@using Abp.Collections.Extensions
@using Thaco.Peugeot.Web.Views
@using Thaco.Peugeot.Web.Views.Shared.Components.LeftSideBar
@model LeftSideBarViewModel
@{
    var calculateMenuUrl = new Func<string, string>((url) =>
    {
        if (string.IsNullOrEmpty(url))
        {
            return ApplicationPath;
        }

        if (UrlChecker.IsRooted(url))
        {
            return url;
        }

        return ApplicationPath + url;
    });
}
<ul class="sidebar-menu" data-widget="tree">
    <li class="header">MAIN NAVIGATION</li>
    @foreach (var menuItem in Model.MainMenu.Items)
    {
        <li class="@(Model.ActiveMenuItemName == menuItem.Name ? "active" : "")">
            @if (menuItem.Items.IsNullOrEmpty())
            {

                <a href="@calculateMenuUrl(@menuItem.Url)">
                    <i class="fa @menuItem.Icon"></i> <span>@menuItem.DisplayName</span>
                </a>
            }
            else
            {
        <li class="treeview">
            <a href="#">
                <i class="fa fa-files-o"></i>
                <span>@menuItem.DisplayName</span>
            </a>
            <ul class="treeview-menu">
                @foreach (var subMenuItem in menuItem.Items)
                {
                    <li><a href="@calculateMenuUrl(subMenuItem.Url)"><i class="fa @subMenuItem.Icon"></i>@subMenuItem.DisplayName</a></li>
                }
            </ul>
        </li>
                }
    </li>

        }
        </ul>

